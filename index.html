<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExLoader | Elite Gaming UI</title>
    <style>
        :root {
            --primary: #ff0000;
            --bg: #030303;
            --card-bg: rgba(10, 2, 2, 0.98);
            --border: 1px solid rgba(255, 0, 0, 0.4);
            --font-main: 'Segoe UI', Roboto, sans-serif;
        }

        * { box-sizing: border-box; user-select: none; }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            background-color: var(--bg); color: white;
            font-family: var(--font-main); overflow: hidden;
            cursor: none; /* Özel imleç için */
        }

        /* --- BACKGROUND & MOUSE LAYERS --- */
        #canvas-bg { position: fixed; top: 0; left: 0; z-index: -2; opacity: 0.5; }
        #mouse-canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9999; }

        .spotlight {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: -1;
            background: radial-gradient(circle 500px at var(--mouse-x) var(--mouse-y), rgba(255, 0, 0, 0.15) 0%, transparent 80%);
        }

        /* --- THE CURSOR --- */
        .cursor {
            width: 10px; height: 10px; background: #fff; border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 100000;
            box-shadow: 0 0 20px #fff, 0 0 40px var(--primary);
            transform: translate(-50%, -50%);
        }

        .cursor-ring {
            width: 35px; height: 35px; border: 2px solid var(--primary);
            border-radius: 50%; position: fixed; pointer-events: none; z-index: 99999;
            transform: translate(-50%, -50%); transition: width 0.2s, height 0.2s;
        }

        /* --- UI COMPONENTS --- */
        nav {
            height: 80px; display: flex; justify-content: space-between; align-items: center;
            padding: 0 60px; border-bottom: var(--border); background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px); position: relative; z-index: 1000;
        }
        .logo { font-size: 28px; font-weight: 900; letter-spacing: 6px; color: var(--primary); text-shadow: 0 0 15px var(--primary); }
        .nav-items { display: flex; gap: 30px; align-items: center; }
        .nav-link { text-decoration: none; color: #ccc; font-size: 13px; font-weight: bold; text-transform: uppercase; transition: 0.3s; cursor: none; }
        .nav-link:hover { color: var(--primary); }
        
        .auth-buttons { display: flex; gap: 15px; align-items: center; }
        .btn-small { padding: 8px 20px; border: 1px solid var(--primary); background: transparent; color: white; text-transform: uppercase; font-size: 11px; font-weight: bold; cursor: none; transition: 0.3s; }
        .btn-small:hover { background: var(--primary); box-shadow: 0 0 20px var(--primary); }
        
        .nav-profile-pic { width: 35px; height: 35px; border-radius: 50%; border: 2px solid var(--primary); object-fit: cover; display: none; cursor: none; }

        .hero { height: calc(100vh - 80px); display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .hero h1 { font-size: 100px; margin: 0; background: linear-gradient(to bottom, #fff, #555); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 30px rgba(255,0,0,0.4)); }

        /* --- MODALS --- */
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: none; justify-content: center; align-items: center; backdrop-filter: blur(15px); }
        .card { background: var(--card-bg); border: 2px solid var(--primary); width: 450px; padding: 40px; position: relative; box-shadow: 0 0 50px rgba(255,0,0,0.2); animation: cardFade 0.3s ease-out; }
        @keyframes cardFade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        .close-btn { position: absolute; top: 20px; right: 20px; color: var(--primary); font-size: 24px; font-weight: bold; cursor: none; padding: 5px; z-index: 10; transition: 0.2s; }
        .close-btn:hover { color: #fff; transform: scale(1.2); }

        input { width: 100%; padding: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,0,0,0.2); color: white; margin-bottom: 15px; outline: none; }
        .main-btn { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; font-weight: bold; text-transform: uppercase; cursor: none; transition: 0.3s; }
        .main-btn:hover { box-shadow: 0 0 30px var(--primary); }

        /* Profile Specifics */
        .profile-avatar-large { width: 80px; height: 80px; border-radius: 50%; border: 2px solid var(--primary); margin-bottom: 15px; }
        .file-label { display: block; padding: 10px; border: 1px dashed var(--primary); text-align: center; margin-bottom: 15px; font-size: 12px; cursor: none; }
        #file-upload { display: none; }

        #notification { position: fixed; bottom: 30px; right: 30px; background: var(--primary); padding: 15px 30px; font-weight: bold; z-index: 10000; display: none; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
    </style>
</head>
<body>

    <canvas id="canvas-bg"></canvas>
    <canvas id="mouse-canvas"></canvas>
    <div class="spotlight"></div>

    <div class="cursor"></div>
    <div class="cursor-ring"></div>

    <nav>
        <div class="logo">EXLOADER</div>
        <div class="nav-items">
            <a href="#" class="nav-link">Ana Sayfa</a>
            <a href="javascript:void(0)" class="nav-link" onclick="toggleOverlay('store-overlay')">Mağaza</a>
            <a href="https://discord.gg/spdrAVrfDM" target="_blank" class="nav-link">Topluluk</a>
            <div class="auth-buttons" id="auth-container">
                <button class="btn-small" onclick="toggleOverlay('login-overlay')">Giriş Yap</button>
                <button class="btn-small" onclick="toggleOverlay('register-overlay')">Kayıt Ol</button>
            </div>
        </div>
    </nav>

    <div class="hero">
        <p style="letter-spacing: 10px; color: #777;">ELITE SOFTWARE SOLUTIONS</p>
        <h1>ELITE HUB</h1>
        <button class="main-btn" style="width: 250px; margin-top: 20px;" onclick="toggleOverlay('store-overlay')">Hemen Keşfet</button>
    </div>

    <div id="login-overlay" class="overlay">
        <div class="card">
            <div class="close-btn" onclick="toggleOverlay('login-overlay')">✕</div>
            <h2>GİRİŞ YAP</h2>
            <input type="text" id="login-user" placeholder="Kullanıcı Adı">
            <input type="password" id="login-pass" placeholder="Şifre">
            <button class="main-btn" onclick="handleLogin()">Giriş</button>
        </div>
    </div>

    <div id="register-overlay" class="overlay">
        <div class="card">
            <div class="close-btn" onclick="toggleOverlay('register-overlay')">✕</div>
            <h2>KAYIT OL</h2>
            <input type="text" id="reg-user" placeholder="Kullanıcı Adı">
            <input type="password" id="reg-pass" placeholder="Şifre">
            <button class="main-btn" onclick="handleRegister()">Hesap Oluştur</button>
        </div>
    </div>

    <div id="profile-overlay" class="overlay">
        <div class="card">
            <div class="close-btn" onclick="toggleOverlay('profile-overlay')">✕</div>
            <center>
                <img src="" id="profile-img-preview" class="profile-avatar-large">
                <h3 id="profile-username" style="margin-top:0;"></h3>
            </center>
            <label for="file-upload" class="file-label">PROFİL RESMİ SEÇ</label>
            <input type="file" id="file-upload" accept="image/*" onchange="handleFileUpload(this)">
            <input type="password" id="new-pass" placeholder="Yeni Şifre">
            <button class="main-btn" onclick="changePassword()">Güncelle</button>
            <button class="main-btn" style="background:transparent; border:1px solid red; margin-top:10px;" onclick="logout()">Çıkış Yap</button>
        </div>
    </div>

    <div id="store-overlay" class="overlay">
        <div class="card" style="width: 600px;">
            <div class="close-btn" onclick="toggleOverlay('store-overlay')">✕</div>
            <h2>MAĞAZA</h2>
            <p>En güncel yazılımlarımız için yükleyiciyi indirin.</p>
            <a href="https://data.exloader.net/ExLoader_Installer.exe" class="main-btn" style="display:block; text-align:center; text-decoration:none;">ÜCRETSİZ İNDİR</a>
        </div>
    </div>

    <div id="notification"></div>

    <script>
        // --- 1. MOUSE ENGINE (PARTICLE SYSTEM) ---
        const mCanvas = document.getElementById('mouse-canvas');
        const mCtx = mCanvas.getContext('2d');
        const cursor = document.querySelector('.cursor');
        const ring = document.querySelector('.cursor-ring');
        let particles = [];

        function resize() { mCanvas.width = window.innerWidth; mCanvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor(x, y) {
                this.x = x; this.y = y;
                this.size = Math.random() * 4 + 1;
                this.speedX = (Math.random() - 0.5) * 3;
                this.speedY = (Math.random() - 0.5) * 3;
                this.color = `rgba(255, 0, 0, ${Math.random() * 0.5 + 0.5})`;
                this.life = 1;
            }
            update() { this.x += this.speedX; this.y += this.speedY; this.life -= 0.02; }
            draw() {
                mCtx.fillStyle = this.color;
                mCtx.globalAlpha = this.life;
                mCtx.beginPath();
                mCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                mCtx.fill();
            }
        }

        document.addEventListener('mousemove', (e) => {
            const x = e.clientX; const y = e.clientY;
            cursor.style.left = x + 'px'; cursor.style.top = y + 'px';
            ring.style.left = x + 'px'; ring.style.top = y + 'px';
            document.documentElement.style.setProperty('--mouse-x', x + 'px');
            document.documentElement.style.setProperty('--mouse-y', y + 'px');

            for (let i = 0; i < 2; i++) { particles.push(new Particle(x, y)); }
        });

        document.addEventListener('mousedown', () => { ring.style.width = '60px'; ring.style.height = '60px'; });
        document.addEventListener('mouseup', () => { ring.style.width = '35px'; ring.style.height = '35px'; });

        function animateParticles() {
            mCtx.clearRect(0, 0, mCanvas.width, mCanvas.height);
            particles.forEach((p, i) => {
                p.update(); p.draw();
                if (p.life <= 0) particles.splice(i, 1);
            });
            requestAnimationFrame(animateParticles);
        }
        animateParticles();

        // --- 2. MODAL LOGIC (FIXED) ---
        function toggleOverlay(id) {
            const el = document.getElementById(id);
            if (!el) return;

            // Eğer tıklanan panel zaten AÇIKSA, onu KAPAT
            if (el.style.display === 'flex') {
                el.style.display = 'none';
            } 
            // Eğer tıklanan panel KAPALIYSA, diğerlerini kapat ve bunu AÇ
            else {
                document.querySelectorAll('.overlay').forEach(o => o.style.display = 'none');
                el.style.display = 'flex';
                if (id === 'profile-overlay') loadProfileData();
            }
        }

        // --- 3. SYSTEM LOGIC ---
        const defAva = "https://via.placeholder.com/80/000000/ff0000?text=EX";
        function showNotify(msg) {
            const n = document.getElementById('notification');
            n.innerText = msg; n.style.display = 'block';
            setTimeout(() => n.style.display = 'none', 3000);
        }

        function checkLogin() {
            const user = localStorage.getItem('active_user');
            const cont = document.getElementById('auth-container');
            if(user) {
                const img = localStorage.getItem('avatar_'+user) || defAva;
                cont.innerHTML = `<img src="${img}" class="nav-profile-pic" style="display:block;" onclick="toggleOverlay('profile-overlay')"><button class="btn-small" onclick="toggleOverlay('profile-overlay')">${user}</button>`;
                document.querySelector('.logo').innerText = "AUTHORIZED";
            } else {
                cont.innerHTML = `<button class="btn-small" onclick="toggleOverlay('login-overlay')">Giriş Yap</button><button class="btn-small" onclick="toggleOverlay('register-overlay')">Kayıt Ol</button>`;
                document.querySelector('.logo').innerText = "EXLOADER";
            }
        }

        function handleRegister() {
            const u = document.getElementById('reg-user').value;
            const p = document.getElementById('reg-pass').value;
            if(u && p) { localStorage.setItem('pass_'+u, p); showNotify("Kayıt Tamam!"); toggleOverlay('login-overlay'); }
        }

        function handleLogin() {
            const u = document.getElementById('login-user').value;
            const p = document.getElementById('login-pass').value;
            if(localStorage.getItem('pass_'+u) === p) {
                localStorage.setItem('active_user', u);
                showNotify("Giriş Başarılı!");
                toggleOverlay('login-overlay'); // Kapatır
                checkLogin();
            } else { showNotify("Hatalı Giriş!"); }
        }

        function logout() { localStorage.removeItem('active_user'); location.reload(); }

        function loadProfileData() {
            const user = localStorage.getItem('active_user');
            document.getElementById('profile-username').innerText = user;
            document.getElementById('profile-img-preview').src = localStorage.getItem('avatar_'+user) || defAva;
        }

        function handleFileUpload(input) {
            const reader = new FileReader();
            reader.onload = (e) => {
                localStorage.setItem('avatar_'+localStorage.getItem('active_user'), e.target.result);
                document.getElementById('profile-img-preview').src = e.target.result;
                checkLogin();
                showNotify("Resim Güncellendi!");
            };
            reader.readAsDataURL(input.files[0]);
        }

        // Arka Plan
        const bgC = document.getElementById('canvas-bg');
        const bgCtx = bgC.getContext('2d');
        let bgP = [];
        function bgRes() { bgC.width = window.innerWidth; bgC.height = window.innerHeight; }
        window.addEventListener('resize', bgRes); bgRes();
        for(let i=0; i<50; i++) bgP.push({x:Math.random()*bgC.width, y:Math.random()*bgC.height, v:Math.random()*0.5+0.2});
        function animateBg() {
            bgCtx.clearRect(0,0,bgC.width,bgC.height);
            bgCtx.fillStyle = "rgba(255,0,0,0.2)";
            bgP.forEach(p => {
                p.y -= p.v; if(p.y < 0) p.y = bgC.height;
                bgCtx.beginPath(); bgCtx.arc(p.x, p.y, 1, 0, Math.PI*2); bgCtx.fill();
            });
            requestAnimationFrame(animateBg);
        }
        animateBg();
        window.onload = checkLogin;
    </script>
</body>
</html>
